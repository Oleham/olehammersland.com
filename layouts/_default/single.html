{{ define "main" }}
{{ if eq .Type "blogg" }}

{{ if .Params.include_toc }}
<div id="TableOfContents">
<p><strong>Innhold:</strong></p>
{{ .TableOfContents }}
{{ end }}
</div>
<h1>{{ .Title }}</h1>
<p>
  <i>
    <time datetime='{{ .Date.Format "2006-01-02" }}' pubdate>
      FÃ¸rst publisert: {{ .Date.Format "02.01.2006" }}
    </time>
  </i>
</p>
{{ end }}

<content>
  {{ .Content }}
</content>

{{ if eq .Type "blogg" }}
<hr>
<p style="text-align: center;"><a href="/blogg/">Tilbake til bloggoversikten</a></p>
<h4>Tagger:</h4>
<p>
  {{ range (.GetTerms "tags") }}
  <a href="{{ .Permalink }}">#{{ .LinkTitle }}</a>
  {{ end }}
</p>
{{ end }}

{{ if .Params.sykkel }}
<!-- Custom bysykkel component -->
<div id="bysykkel-component"></div>
<script src="/scripts/bysykkel.js"></script>
{{ end }}

{{ if .Params.include_data }}
<script>
  let jsobj = JSON.parse("{{ .Params.data | jsonify }}")
  document.addEventListener('alpine:init', () => {
        Alpine.data('param_data', () => ({
              data: jsobj
            })
        )
    })
</script>
{{ end }}

{{ end }}