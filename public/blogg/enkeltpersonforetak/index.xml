<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Ole Hammersland sin blogg</title>
    <link>https://www.olehammersland.com/blogg/enkeltpersonforetak/</link>
    <description>Ole Hammersland sin blogg</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    <copyright>Ole Hammersland¬©2021</copyright>
    <lastBuildDate>Mon, 20 Feb 2023 08:44:40 +0100</lastBuildDate><atom:link href="https://www.olehammersland.com/blogg/enkeltpersonforetak/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Jeg g√•r til skyen</title>
      <link>https://www.olehammersland.com/blogg/jeg_g%C3%A5r_til_skyen/</link>
      <pubDate>Mon, 20 Feb 2023 08:44:40 +0100</pubDate>
      
      <guid>https://www.olehammersland.com/blogg/jeg_g%C3%A5r_til_skyen/</guid>
      <description>&lt;p&gt;Det falt meg tungt, men jeg har endelig vokst opp og parkert min hjemmelagde e-postserver til fordel for Microsoft 365!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Landeveien til S√∏rlandet</title>
      <link>https://www.olehammersland.com/blogg/landeveien_til_s%C3%B8rlandet/</link>
      <pubDate>Sun, 17 Jul 2022 19:59:21 +0200</pubDate>
      
      <guid>https://www.olehammersland.com/blogg/landeveien_til_s%C3%B8rlandet/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/sorlandet/sand%C3%B8ya.JPG&#34; alt=&#34;S√∏rlandet&#34;&gt;&lt;/p&gt;
&lt;p&gt;Om man vil reise til Arendal p√• sykkel, er det ca. 270‚Äì300 km fra Oslo, litt avhengig av hvilken rute man tar. I denne f√∏rste sykkelbaserte reisen s√∏rover valgte vi en s√• direkte rute som overhodet mulig, hvilket inkluderte et par ferjer og en kort snarvei langs E18.&lt;/p&gt;
&lt;h2 id=&#34;etappe-1&#34;&gt;Etappe 1&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/sorlandet/sorlandet1.png&#34; alt=&#34;Oslo til T√∏nsberg&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/sorlandet/oppakning.JPG&#34; alt=&#34;Oppakningen&#34;&gt;&lt;/p&gt;
&lt;p&gt;F√∏rste etappe gikk fra T√∏yen til T√∏nsberg. Store deler av denne strekningen har jeg syklet mange ganger med utgangspunkt i hjemmet, men jeg hadde aldri tidligere syklet forbi √Ös. Vi lot oss villede litt av Google Maps og brukte ca. 13 km p√• en stadig mer grusete g√•rdsvei som ikke var forenelig med landeveissyklene, til vi m√•tte kapitulere og vende om.&lt;/p&gt;
&lt;p&gt;Fin tur nedover, spesielt turen langs √∏stsiden av √Örungen er et h√∏ydepunkt. S√∏r for √Ös syklet vi gjennom Vestby, som m√• sies √• v√¶re dagens bunnpunkt. Veldig bilbasert omr√•de med masse store kj√∏pesentre. Ogs√• her syklet vi feil og m√•tte mobilnavigere gjennom et boligomr√•de for √• finne veien videre til H√∏len. Vi misset ogs√• dessverre innkj√∏ringen til gang-/sykkelbroen over H√∏len, som jeg hadde lest om i forveien. Fra H√∏len syklet vi en omvei om Son, der vi spiste en vegetarburger p√• brygga.&lt;/p&gt;
&lt;p&gt;Etter overfarten Moss&amp;ndash;Horten var det en fin siste innspurt til T√∏nsberg. Merkbart mye bedre sykkelveier i Vestfold &amp;ndash; brede og med tydelig skilting.&lt;/p&gt;
&lt;h2 id=&#34;etappe-2&#34;&gt;Etappe 2&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/sorlandet/sorlandet2.png&#34; alt=&#34;T√∏nsberg til Brokelandsheia&#34;&gt;&lt;/p&gt;
&lt;p&gt;Planen for ruten var √• komme seg til ferja Helgeroa&amp;ndash;Langesund, hvilket sparer oss for omveien rundt Langangen og Stathelle. Vi hadde f√∏rst booket et lite rom i Stavern, men det ville medf√∏rt en sv√¶rt kort etappe og at vi kanskje hadde brukt fire dager i stedet for tre. Rykter om regn gjorde at vi kansellerte og bestilte nytt rom p√• Heimat i Brokelandsheia. Hvilket bet√∏d at andre etappe ville bli veldig lang.&lt;/p&gt;
&lt;p&gt;Vi startet kl. 10 og gjorde de f√∏rste ca. 50 km fra T√∏nsberg til Larvik i et strekk, fordi vi hadde et h√•p om √• rekke ferjeavgangen kl. 12.30. Det stadig svinnende h√•pet oppgav vi en gang for alle da vi ankom Farris bad, og da ble det en kort rast her. Veien frem til Larvik var fin, spesielt mellom T√∏nsberg og Sandefjord var det idyllisk g√•rdslandskap. Etter en banan syklet vi strake veien til Helgeroa langs en middels trafikert vei, og fikk tatt oss en lang pause med mye mat mens vi ventet p√• avgangen 15.15. Overfarten tok ca. 50 minutter, og det var kaldt og gr√•tt.&lt;/p&gt;
&lt;p&gt;Fra Langesund var det bare √• forberede seg mentalt p√• 60 km til, samtidig som det begynte √• sm√•regne. Landskapet var n√• umiskjennelig mer s√∏rlandsk, alts√• stort sett heier og skog. De f√∏rste 15 kilometerne var helt ok, langs gamle E18 (n√• Fv363) med middels mye trafikk og en del forbikj√∏ringer. Vi droppet sykkelrute 1 om Valle, da det var en omvei pluss at vi hadde h√∏rt rykter om grus. I ettertid ser det ut til at dette ikke stemte.&lt;/p&gt;
&lt;p&gt;S√• kom turens absolutte h√∏ydepunkt, der designasjonen Fv363 rent fysisk skifter over til den lille, nesten bilfrie veien som kalles Gamle S√∏rlandske. Dette skiftet skjer rett etter motorveikrysset Langr√∏nningen, der den nye motorveien i Bamble opph√∏rer og E18-trafikken overtar veien vi hadde syklet p√• s√• langt.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/sorlandet/s%C3%B8rlandske.JPG&#34; alt=&#34;Gamle S√∏rlandske&#34;&gt;&lt;/p&gt;
&lt;p&gt;Her hadde vi hele den nyasfalterte veien nesten helt for oss selv. Veien snirkler seg opp og ned over de s√∏rlandske heiene gjennom skog og kratt og med flotte utkikkspunkter over mindre innsj√∏er. Etter Helle/Nordb√∏ blir veien til en tettstedsvei for omr√•det nord for Krager√∏, men etter Tangen fortsetter Gamle S√∏rlandske gjennom et flatere landskap med flere g√•rder. Like vakkert og lite like trafikk, men n√• ganske parallelt med E18. Gamle S√∏rlandske avsluttes ved veien mellom Gjerstad og Ris√∏r, og derfra er det kun et lite steinkast bort til Brokelandsheia og overnatting.&lt;/p&gt;
&lt;h1 id=&#34;etappe-3&#34;&gt;Etappe 3&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/sorlandet/sorlandet3.png&#34; alt=&#34;Brokelandsheia til Arendal&#34;&gt;&lt;/p&gt;
&lt;p&gt;Turens siste og korteste etappe var Brokelandsheia til Arendal. Her har man i prinsippet to muligheter. Man kan f√∏lge en fin, men kupert og lengre sykkevei mellom S√∏rlandsporten/Vinterkj√¶r og Tvedestrand (Fv411, ev. N√¶vestadveien fra Laget), eller man kan sykle den utrolig vakre Gamle Songeveien parallelt med E18 og s√• ca. 1,5 km p√• selve E18 for √• n√• over til Lunde der den nye motorveien starter. Vi m√∏tte en sykkelgruppe ved S√∏rlandsporten som sa at det gikk helt fint √• sykle det korte strekket langs E18, som ogs√• skulle ha en bred veiskulder √• falle tilbake p√•.&lt;/p&gt;
&lt;p&gt;Vi valgte denne siste varianten da det er en strakere og raskere vei. Gamle Songeveien var en kjempeflott og idyllisk strekning i str√•lende solskinn, minst like flott som Gamle S√∏rlandske. M√∏tet med E18 var ikke like lystbetont. Trafikken suste forbi i 80‚Äì90 km/t, og det var en kurve som gjorde at sikten ikke var kjempelang. Den brede veiskuldra kunne vi dessverre heller ikke se fra avkj√∏rselen. Skal innr√∏mme at jeg syntes det var litt grenseoverskridende, men vi var ikke klare for √• snu, s√• vi ventet p√• en god luke og kastet oss ut p√• veien. En del ut√•lmodige, tutende bilister og farlige forbikj√∏ringer gjorde de f√∏rste meterne ubehagelige, men heldigvis dukket veiskuldra snart opp og vi kunne holde oss godt ut i siden. Likevel ikke hyggelig n√•r vogntog dundrer forbi med dragsuget sitt. Etter knappe 8 minutter var det heldigvis over, og vi kom oss helskinnet over p√• avkj√∏rselen til Lunde. Vil ikke anbefale denne ruten for andre enn de mest eventyrlystne, spesielt vogntogene kan gj√∏re det til en ubehagelig aff√¶re. Synd i grunnen, for Gamle Songeveien er virkelig verdt turen. Kilometermessig er det dessuten en veldig effektiv snarvei.&lt;/p&gt;
&lt;p&gt;Fra Lunde er det opp en lang bakke, og s√• har man valget mellom √• dra ned til Tvedestrand og kystveien, eller √• dra ned til Fiane og f√∏lge gamle E18 (n√• Fv421) til Arendal. Dette er en lang og ikke spesielt spennende strekning med god gang-/sykkelvei hele veien.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/sorlandet/arendal.JPG&#34; alt=&#34;Arendal kommune&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;etter-ankomst&#34;&gt;Etter ankomst&lt;/h2&gt;
&lt;p&gt;Vi tilbrakte en dag p√• hytta i Arendal, f√∏r vi syklet tilbake til Tvedestrand langs kystveien og derfra til Sand√∏ya. En bilfri √∏y som kanskje er et av Norges kuleste steder? Her overnattet vi p√• italiensk gjestehus og kjempet med b√•tfolket om ferske kanelboller!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/sorlandet/ferje.JPG&#34; alt=&#34;Ferja til Sand√∏ya&#34;&gt;&lt;/p&gt;
&lt;p&gt;Derfra syklet vi tilbake til Vinterkj√¶r langs Fv411 og tok bussen hjem til Oslo. Aller helst skulle man ha syklet litt videre til Gjerstad og hoppet p√• toget, men dessverre er det uansett buss for tog i sommer. Buuuu.&lt;/p&gt;
&lt;p&gt;Turen gav uansett definitivt mersmak. Jeg visste at kvaliteten p√• sykkelveiene var god i Follo og Vestfold, men jeg var mer usikker p√• hvordan det ville v√¶re i Telemark og Agder. Her ble jeg positivt overrasket. Gamle S√∏rlandske var turens h√∏ydepunkt, og ellers er det flust av mindre trafikkerte fylkesveier √• velge mellom. Man m√• bare v√¶re forberedt p√• at det er en del opp og ned, siden landskapet er 90 % skogkledde heier. Det finnes ogs√• mange gode sykkelstier, spesielt rundt Arendal.&lt;/p&gt;
&lt;p&gt;Vil defintivt ta sykkelen s√∏rover igjen.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Br√∏dbaking</title>
      <link>https://www.olehammersland.com/blogg/br%C3%B8dbaking/</link>
      <pubDate>Fri, 29 Apr 2022 13:57:04 +0200</pubDate>
      
      <guid>https://www.olehammersland.com/blogg/br%C3%B8dbaking/</guid>
      <description>&lt;p&gt;Enhver blogg med respekt for seg selv m√• vel ha minst ett innlegg dedikert til br√∏dbaking =) Due to popular demand, her deler jeg oppskriften p√• den faste br√∏doppskriften vi bruker.&lt;/p&gt;
&lt;h2 id=&#34;f√∏r-du-legger-deg&#34;&gt;F√∏r du legger deg&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Legg 500 g mel i en bolle. Jeg bruker vanligvis ca. 350 gram vanlig hvetemel og 150 gram sammalt.&lt;/li&gt;
&lt;li&gt;Ta oppi en klunk med olje, jeg pleier √• slumpe ca. 1‚Äì2 spiseskjeer oppi.&lt;/li&gt;
&lt;li&gt;Ta i √©n spiseskje t√∏rrgj√¶r og 1/2 spiseskje bordsalt (litt hver for seg)&lt;/li&gt;
&lt;li&gt;Fyll et desiliterm√•l med ca. 5 dl vann og hell oppi under omr√∏ring. Anbefaler en slikekpott her.&lt;/li&gt;
&lt;li&gt;Bland godt i ca. 2‚Äì3 min til du har en fuktig, klissete deig omtrent som p√• bildet nedenfor. Den skal v√¶re tyktflytende og jevn. Bruk eventuelt mer eller mindre vann.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/brod1.JPG&#34; alt=&#34;Elt til en smidig deig&#34;&gt;&lt;/p&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;Dekk til bolla og la st√• til neste dag.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;neste-morgen&#34;&gt;Neste morgen&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Legg bakepapir i br√∏dformen. Plasser tunga i munnviken og hell r√∏ra forsiktig oppi ved hjelp av slikkepotten. Fordel utover.&lt;/li&gt;
&lt;li&gt;Anbefaler gresskarkjerner og solsikkekjerner √∏verst. Ikke vits √• p√∏se p√•, det som ikke fester seg i deigen, faller bare ut.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/brod2.JPG&#34; alt=&#34;Elt til en smidig deig&#34;&gt;
&lt;img src=&#34;https://www.olehammersland.com/images/blogg/brod3.JPG&#34; alt=&#34;Elt til en smidig deig&#34;&gt;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Sett midt i ovnen og vri temperaturen til ca. 180 grader. Sett en timer p√• 1,5 time.&lt;/li&gt;
&lt;li&gt;Gj√∏r noe annet.&lt;/li&gt;
&lt;li&gt;N√•r klokka ringer, kan du ta ut. B√∏r se ca. ut som p√• bildet nedenfor, og l√∏sne lett fra papiret (som kan oppbevares og brukes p√• ny).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/brod4.JPG&#34; alt=&#34;Elt til en smidig deig&#34;&gt;&lt;/p&gt;
&lt;p&gt;B√•nn appetitt! Godt, billig og enkelt br√∏d. Kan gj√∏res lysere ved √• redusere/droppe sammalt. Tror prisen p√• et br√∏d kommer p√• vel under 10 kroner. En pose hvetemel og en pose sammalt pleier √• rekke til ca. 4‚Äì5 br√∏d.&lt;/p&gt;
&lt;p&gt;Oppskriften stammer fra &lt;a href=&#34;https://greenbonanza.com/2020/09/17/bonanzabrod-100-eltefritt-og-fool-proof/&#34;&gt;Green Bonanza sin matblogg.&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Fornyelse av Let&#39;s Encrypt-sertifikat</title>
      <link>https://www.olehammersland.com/blogg/fornyelse-letsencrypt-sertifikat/</link>
      <pubDate>Mon, 04 Oct 2021 17:02:15 +0200</pubDate>
      
      <guid>https://www.olehammersland.com/blogg/fornyelse-letsencrypt-sertifikat/</guid>
      <description>&lt;p&gt;Jeg hoster min egen epost-tjener under domenet mitt, olehammersland.com. Det fungerer overraskende godt, og har ikke blitt et m√•l for storsl√•tte spam-angrep enn√• (fingrene krysset). Dermed er det en billig m√•te √• ha en e-post med eget domenenavn ‚Äì og litt g√∏y √• ha ¬´fikset det selv¬ª. Det eneste som er litt skummelt, er n√•r det er p√• tide √• oppdatere SSL-sertifikatet. Siden jeg s√• sjelden √•pner panseret og gj√∏r arbeid p√• tjeneren, er det alltid litt uvant √• orientere seg.&lt;/p&gt;
&lt;p&gt;I dag tidlig var det f.eks. p√• tide √• fornye sertifikatet, som var l√∏pt ut i l√∏pet av helgens Paris-Roubaix-ritt. Jeg gjorde prosessen slik jeg husket det, men glemte √• restarte alle programmene som er involvert i e-posttjenesten min. Dermed fungerte fornyelsen av sertifikatet mitt √∏yensynlig ikke, og det ble en lett stresset og irritabel start p√• dagen.&lt;/p&gt;
&lt;p&gt;Derfor skriver jeg n√• en liten huskeliste til meg selv:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Skru av b√•de Apache, Postfix &lt;strong&gt;OG&lt;/strong&gt; Dovecot med &lt;code&gt;sudo service [---] stop&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Kj√∏r Certbot, som av en eller annen grunn ikke ligger under PATH: &lt;code&gt;sudo ~/snap/bin/certbot renew&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Sjekk at alt er fornyet med &lt;code&gt;sudo ~/snap/bin/certbot certificates&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Start de tre daemonene igjen.&lt;/li&gt;
&lt;li&gt;Sjekk ev. &lt;code&gt;/var/log/mail.log&lt;/code&gt; for √• se at e-posten er oppe.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Viktig √• huske √• skru av b√•de Postfix og Dovecot üòÖ!&lt;/p&gt;
&lt;p&gt;Og ja, dette kan selvf√∏lgelig automatiseres, det vet jeg. Vet bare ikke om jeg orker √• stikke fingeren i det vepsebolet i n√¶rmeste fremtid&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>180.no ‚Äì ikke glem abonnementer üí∏</title>
      <link>https://www.olehammersland.com/blogg/ferie-over/</link>
      <pubDate>Thu, 26 Aug 2021 09:38:32 +0200</pubDate>
      
      <guid>https://www.olehammersland.com/blogg/ferie-over/</guid>
      <description>&lt;p&gt;Dette er en p√•minnelse om √• ikke glemme l√∏pende abonnementer. Da jeg meldte enkeltpersonforetaket mitt inn i Enhetsregisteret, ble jeg straks oppringt av 180.no. De kunne gi meg et str√•lende tilbud p√• √• la meg oppf√∏re i registeret deres. &lt;a href=&#34;https://www.180.no/firmavis/02011553231561.htm&#34;&gt;Slik ser det ut&lt;/a&gt;. Det gikk selvf√∏lgelig som det m√•tte g√• ‚Äì jeg glemte √• si opp abonnementet i ferie√∏rska og er n√• tvunget til √• fortsette kundeforholdet i 1 √•r. Ett helt √•r! Ergerlig! üí∏&lt;/p&gt;
&lt;p&gt;N√• som jeg har arbeidet som frilanser i 6 m√•neder, vet jeg at jeg ikke hadde noe behov for denne tjenesten. Da jeg meldte meg inn, var jeg fortsatt spent p√• om jeg i det hele tatt ville f√• noen kunder. Men kombinasjonen av gode relasjoner til tidligere arbeidsgiver og forh√•ndskunnskap om bransjen har f√∏rt til at jeg alltid har hatt nok √• gj√∏re. Om noe, har jeg hatt det motsatte (luksus-)problemet ‚Äì for mye √• gj√∏re!&lt;/p&gt;
&lt;p&gt;De nye kundene jeg har vunnet, har dessuten ikke kommet fra 180.no, men fra Proz.com. Proz.com er en nettportal for spr√•ktjenester. Jeg har ikke en gang registrert meg for den betalte versjonen, men f√•r likevel stadig nye tilbud. Mange av disse er useri√∏se henvendelser av typen ¬´oversett 10¬†000 ord innen kl. 1800 i dag for 50 euro¬ª, men jeg har ogs√• knyttet kontakter med seri√∏se byr√•er som har gitt meg flere gode oppdrag!&lt;/p&gt;
&lt;p&gt;180.no har imidlertid ikke brakt meg noen merverdi utover √• gi nettsiden min en marginalt bedre plassering i Google. S√• det er ikke en tjeneste jeg vil anbefale til frilansoversettere, dessverre. Mitt inntrykk er at de fleste byr√•er jeg jobber for uansett kommer fra Sverige, Baltikum og √∏stover i Europa.&lt;/p&gt;
&lt;p&gt;Og 1 √•r! Det er lenge! Og dyrt! Skulle ikke v√¶rt lov med automatisk fornyelse av abonnementer i denne prisklassen. Noen av oss m√• faktisk beskyttes mot oss selv. Siden jeg uansett er tvunget til √• v√¶re kunde hos dem 1 ett √•r til, skal jeg gj√∏re et √¶rlig fors√∏k p√• √• pusse opp profilen min. R√•det mitt til andre frilansoversettere er imidlertid ‚Äì utvis forsiktighet!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Mitt f√∏rste Go-prosjekt</title>
      <link>https://www.olehammersland.com/blogg/mitt-f%C3%B8rste-go-prosjekt/</link>
      <pubDate>Mon, 26 Apr 2021 12:57:36 +0200</pubDate>
      
      <guid>https://www.olehammersland.com/blogg/mitt-f%C3%B8rste-go-prosjekt/</guid>
      <description>&lt;p&gt;Jeg har de siste ukene jobbet ganske jevnt og trutt p√• et nytt programmerings-prosjekt. M√•let er √• utvide simpleVP, et prosjekt jeg skapte for √• automatisere filnedlastning og opplastning fra oversettelsesportalen XTRF (&lt;a href=&#34;http://localhost:1313/blogg/simplevp-xtrf-gjort-enkelt/&#34;&gt;se her&lt;/a&gt;). I tillegg vil jeg smelte det sammen med faktura-generatoren min. Det nye prosjektet skal alts√• bli en one-stop klient for XTRF-systemet for oversettere!&lt;/p&gt;
&lt;p&gt;Det f√∏rste som er nytt med denne utgaven av simpleVP (simple Vendor Portal), er at den er skrevet i Go. Go er et s√•kalt &lt;em&gt;kompilert&lt;/em&gt; spr√•k som gj√∏r det mye lettere for meg √• distribuere programmet. Da jeg lagde det opprinnelige simpleVP i Python, skrev jeg lange instruksjoner til sluttbrukerne om hvordan man laster ned Python, bruker kommandolinjen, installerer ulike moduler og setter opp milj√∏variabler. N√• er m√•let √• lage en enkel kj√∏rbar fil i et format som er velkjent for de fleste Windows-brukere (.exe). Det legger Go til rette for.&lt;/p&gt;
&lt;p&gt;Det andre som er nytt, er at jeg skaper programmet med perspektivet til en frilansoversetter. Derfor skal systemet ha st√∏tte for √• koble seg til ulike XTRF-servere, slik at jeg kan samle oppdrag fra flere oversettelsesbyr√•er inn i √©n enkel oversikt. I min erfaring er XTRF noe slikt som en bransjestandard. Tar man oppdrag fra et oversettelsesbyr√•, er sjansen for at de bruker XTRF temmelig stor. Derfor er det spesielt verdifullt √• samle alle disse web-applikasjonene inn i ett enkelt grensesnitt. Dessuten baserer de fleste byr√•er seg p√• XTRF til regnskapet sitt. Derfor er det heller ikke s√• dumt √• legge inn st√∏tte for fakturering ogs√•.&lt;/p&gt;
&lt;p&gt;S√• langt har jeg jobbet mest med et enkelt grafisk brukergrensesnitt og databasen. Brukergrensesnittet er basert p√• en √•pen kildekode-modul ved navn &lt;a href=&#34;https://pkg.go.dev/fyne.io/fyne&#34;&gt;Fyne&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/simplevp3-gui-first-look.jpg&#34; alt=&#34;Slik ser nye simpleVP ut.&#34;&gt;&lt;/p&gt;
&lt;p&gt;Bildet over viser den delen av programmet som er kommet lengst: siden for √• opprette, endre og slette forbindelsene til de ulike XTRF-portalene. N√•r du bruker programmet, vil du kunne bruke alle disse XTRF-portalene samtidig, i samme programmet.&lt;/p&gt;
&lt;p&gt;Prosjektet er delt opp i f√∏lgende pakker eller ¬´delprogrammer¬ª:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;            main
           /    \
        gui  ‚Äì-  db
                   \
                   xtrf

&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;GUI tegner det grafiske grensnittet p√• skjermen. For √• gj√∏re det, henter det informasjon fra databasen (db). Kunden kan kan ogs√• oppdatere databasen. Da bruker databasen delprogrammet som heter xtrf til √• laste ned informasjonen via API-et til XTRF.&lt;/p&gt;
&lt;p&gt;Databasen er med andre ord hjulnavet, &lt;em&gt;die Drehscheibe&lt;/em&gt;, i programmet mitt. Den starter med en tabell for &lt;strong&gt;settings&lt;/strong&gt;. En setting inneholder p√•loggingsinformasjonen for en XTRF-portal. Per setting kan man finne flere &lt;strong&gt;jobs&lt;/strong&gt;, som representerer jobbene fra XTRF, enten de har statusen &lt;em&gt;in progress&lt;/em&gt;, &lt;em&gt;pending&lt;/em&gt; eller &lt;em&gt;to be invoiced&lt;/em&gt;. Hver jobb kan igjen inneholde filer: tabellen &lt;strong&gt;files&lt;/strong&gt; inneholder alle filene.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/simplevp3-database.jpg&#34; alt=&#34;Database-oversikt&#34;&gt;&lt;/p&gt;
&lt;p&gt;N√•r hovedfunksjonaliteten er klar, kan det bli relevant med en tabell kalt &lt;strong&gt;invoices&lt;/strong&gt;, som inneholder fakturaene brukeren skaper. Hver jobb vil da ogs√• knyttes til en faktura. Tabellen &lt;strong&gt;banks&lt;/strong&gt; vil inneholde betalingsinformasjonen til brukeren, og s√• m√• &lt;strong&gt;settings&lt;/strong&gt; oppdateres med kundens faktureringsinnstillinger.&lt;/p&gt;
&lt;p&gt;Databasen, og logikken for √• oppdatere den, er nesten fullf√∏rt. I neste trinn m√• det grafiske brukergrensesnittet kunne vise jobber, beskrivelser, filer og annen informasjon p√• en passe oversiktlig m√•te. Deretter skal brukeren f√• muligheten til √• laste ned jobber.&lt;/p&gt;
&lt;p&gt;Gleder meg til √• jobbe videre p√• dette prosjektet!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Maskinoversettelse i Azure</title>
      <link>https://www.olehammersland.com/blogg/maskinoversettelse-i-azure/</link>
      <pubDate>Thu, 25 Mar 2021 16:28:09 +0100</pubDate>
      
      <guid>https://www.olehammersland.com/blogg/maskinoversettelse-i-azure/</guid>
      <description>&lt;p&gt;Har tenkt p√• og jobbet litt med maskinoversettelse i mars. I denne posten sammenfatter jeg noen generelle tanker og id√©er rundt temaet. Jeg liker selv √• bruke maskinoversettelse, og har lyst til √• p√• sikt dykke dypere ned i den tekniske delen av det.&lt;/p&gt;
&lt;h2 id=&#34;ja-til-maskinoversettelser-&#34;&gt;Ja til maskinoversettelser üìúü§ñ&lt;/h2&gt;
&lt;p&gt;Helt siden jeg startet som oversetter, har jeg hatt inntrykket av at det lureste jeg kan l√¶re meg, er koding og maskinoversettelse. For meg er det ingen tvil om at maskinoversettelse kun er i startgropen, og at det vil bli mer og mer utbredt. Kvaliteten blir bedre og bedre, men ikke bare derfor ‚Äì den generelle forbedringen i kvalitet vil med tiden m√∏te p√• en st√∏rre og st√∏rre aksept for mindre oversettelsesfeil. Gevinsten med litt d√•rlig, maskinelt spr√•k vil etterhvert overveie ulempene med alt for mange faktorer.&lt;/p&gt;
&lt;p&gt;I dag leste jeg f.eks. i S√ºddeutsche Zeitung at rettsaken rundt Cum-Ex-skandalen, som skal starte i disse dager i Frankfurt, &lt;a href=&#34;https://www.sueddeutsche.de/wirtschaft/cum-ex-skandal-zum-prozessauftakt-fehlen-die-hauptpersonen-1.5245685&#34;&gt;ble utsatt i nesten 1 √•r fordi man ventet p√• en engelsk oversettelse av anklageskriften&lt;/a&gt; (som var p√• nesten 1000 sider, ¬´selbst f√ºr Profis schwer zu lesen¬ª).&lt;/p&gt;
&lt;p&gt;Det synes jeg er verdt √• tenke gjennom en gang til.&lt;/p&gt;
&lt;p&gt;Saken handler om en rekke finansfolk som svindlet Europas sentralbanker for ufattelige &lt;em&gt;62,9 milliarder euro&lt;/em&gt;! Vi burde fr√•de av raseri og f√• dem d√∏mt s√• snart som mulig. Anklagemyndigheten er imidlertid likefullt n√∏dt til √• vente p√• et uendelig langt oversettelsesprosjekt som sikkert er utf√∏rt av en rekke juridiske oversettere, mens flere av bakmennene lever som vanlig.&lt;/p&gt;
&lt;p&gt;Tenk p√• alle forsinkelsene og kostnadene i forbindelse med rettsakter, anbudsrunder, osv. p√• tvers av landegrenser. Det kan v√¶re en fulltidsjobb for flere oversettere i flere √•r om f.eks. Oslo Sporveier bestiller et nytt signalsystem fra et firma i Tyskland. De f√¶rreste jubler vel over at kommunen skal l√∏nne en rekke personer for √• gj√∏re en potensiell meningsl√∏s jobb (er det ikke lettere, billigere og mer givende for ingeni√∏rene i Oslo Kommune √• lese de engelske tekstene?). De fleste √∏nsker seg vel heller et godt t-banesystem.&lt;/p&gt;
&lt;p&gt;Jeg synes ikke det er noen s√¶rlig verdi i √• beskytte markedet for oversettere. Oversettelser er fantastiske fordi de lar oss f√• innblikk i andre verdener. Det er imidlertid ingenting mot √• faktisk l√¶re det andre spr√•ket. &lt;a href=&#34;https://slator.com/&#34;&gt;Bransjemagasinet Slator&lt;/a&gt; har et st√∏rre perspektiv en ren ¬´oversettelse¬ª, de snakker om ¬´spr√•ktjenestebransjen¬ª. Den omfatter mer enn ren oversettelse, den omfatter ogs√• spr√•kkurs, tolkning, maskinoversettelse, programvare, kulturformidling m.m. Og denne bransjen kommer nok alltid i h√∏y grad til √• finnes.&lt;/p&gt;
&lt;p&gt;N√•r motstandere mot maskinoversettelser krever at vi m√• ¬´beskytte¬ª oversettelser, synes jeg man glemmer den underliggende tragikken i √• v√¶re avhengige av mellommenn for √• kommunisere med sine medmennesker p√• tvers av landegrensene.&lt;/p&gt;
&lt;p&gt;M√•let m√• jo v√¶re at kommunikasjonen kan finne sted, s√• enkelt som mulig!&lt;/p&gt;
&lt;p&gt;S√• jeg tror bare det er √• forvente mer og mer aksept for maskinoversettelser. &lt;a href=&#34;https://www.dn.se/ekonomi/amazons-sverigelansering-hanas-for-oversattningsmissar/&#34;&gt;Man gjorde narr av kvaliteten p√• oversettelsene&lt;/a&gt; da Amazon ble lansert i  Sverige, men tenk heller p√• de svimlende summende de sparte. Jeg tror ikke det bedre kvalitet som er den egentlig driveren: globalisering og mer interaksjon p√• tvers av landegrenser vil nok forbli den virkelig store driveren.&lt;/p&gt;
&lt;h2 id=&#34;min-bruk-av-mt&#34;&gt;Min bruk av MT&lt;/h2&gt;
&lt;p&gt;Sp√∏rsm√•let er som alltid hvilken kvalitet man er villig til √• betale for. Som oversetter vil jeg kunne v√¶re fleksibel n√•r det gjelder graden av personlig vs. automatisert oversettelse. For √• si det enkelt: om en kunde er villig til √• betale for at jeg leverer en oversettelse av en √•rsrapport p√• 100 sider i l√∏pet av √©n dag, 7,5 timer, s√• vil jeg kunne levere &lt;em&gt;noe&lt;/em&gt;. S√• f√•r vi diskutere hvilke tilpasninger jeg realistisk skal prioritere for √• levere et produkt som er akseptabelt for sitt form√•l.&lt;/p&gt;
&lt;p&gt;Denne uken har jeg hatt det veldig, veldig travelt. Da en kunde √∏nsket oversettelse av en veldig generell tekst, hadde jeg egentlig ikke tid til det ‚Äì men teksten s√• s√•pass generell ut at det var en kandidat for maskinoversettelse med de generelle MT-motorene til Microsoft, Google osv. Jo mer fagspesifikk en tekst er, med intern sjargong og interne forkortelser og lignende, desto mindre egnet vil den v√¶re (med mindre man trener opp en egen MT-motor for nettopp det fagfeltet/den kunden), mer om det siden.&lt;/p&gt;
&lt;p&gt;S√• jeg logget meg inn p√• Azure og satte opp en gratis oversetter. Fikk en API-n√∏kkel og la det inn i memoQ. Heldigvis stemte teorien ‚Äì jeg sparte tid og fikk levert uten √• ofre hele kvelden. Det beste er ofte at man ikke er n√∏dt til √• skrive s√• mye p√• tastaturet, men kan konsentrere seg om √• endre i en allerede eksisterende tekstmal.&lt;/p&gt;
&lt;p&gt;For√∏vrig: med tiden h√•per jeg √• kunne bruke europeiske &lt;a href=&#34;https://www.deepl.com/translator&#34;&gt;DeepL&lt;/a&gt; til √• maskinoversette tekster for kunder. De har en fantastisk god maskinoversetter som gir glimrende oversettelser mellom tysk og engelsk. &lt;a href=&#34;https://slator.com/machine-translation/deepl-adds-13-european-languages-as-traffic-continues-to-surge/&#34;&gt;N√• har de lagt ut st√∏tte for 13 nye europeiske spr√•k&lt;/a&gt;, blant annet svensk og dansk!&lt;/p&gt;
&lt;p&gt;‚Ä¶ men dessverre ikke norsk üòï&lt;/p&gt;
&lt;h2 id=&#34;ge-de-pe-errr&#34;&gt;GE-DE-PE-ERRR&lt;/h2&gt;
&lt;p&gt;Personvern er jo noe √• tenke p√•. N√•r man bruker Microsoft Translator, laster man i prinsippet teksten opp til en av Azure sine mange servere. Det b√∏r man gj√∏re kunden klar over, &lt;a href=&#34;https://azure.microsoft.com/en-us/services/cognitive-services/translator/&#34;&gt;til tross for at Microsoft lover at dataene er sikre&lt;/a&gt;. Om kunden har betenkninger, kan man jo pr√∏ve seg med en liten reduksjon i ordpris for √• gj√∏re det mer smakfullt. I min erfaring er det imidlertid ikke &lt;em&gt;s√•&lt;/em&gt; mye tid √• spare som kundene kanskje ser for seg. Man arbeider kanskje 20¬†% raskere som f√∏lge av at ikke alle ord m√• tastes inn f√∏rste gangen. Men det egentlige arbeidet, det √• skape en god og flytende tekst, gjenst√•r. Og det er vel det kunden &lt;em&gt;egentlig&lt;/em&gt; betaler for?&lt;/p&gt;
&lt;p&gt;Det h√•per i hvert fall jeg ‚Äì det er det jeg synes er g√∏y. Hvis ikke, kan vel bare maskinene ta seg av arbeidet?&lt;/p&gt;
&lt;p&gt;Ironisk nok (jeg tror i hvert fall det er ironisk?), s√• har jeg merket at tekster om personvern er de som enklest lar seg oversette av Microsoft Translator. ü§´ Det beste resultatet jeg noen gang har hatt, var da jeg lastet opp en tekst med personvernretningslinjer. Det virket som om Microsoft Translator hadde lest den teksten f√∏r, fordi den spyttet ut en helt perfekt, menneskelig oversettelse med det samme. Det tok meg kun 15 minutter √• lese gjennom to ganger for √• konstatere at alt var rett. S√• det er nok en del firmaer som har automatisert dette kjedelige lovkravet. üòÅ&lt;/p&gt;
&lt;h2 id=&#34;pytorch-tensorflow&#34;&gt;PyTorch? Tensorflow?&lt;/h2&gt;
&lt;p&gt;P√• sikt kunne jeg veldig gjerne tenke meg √• l√¶re meg hvordan man selv trener en maskinl√¶ringsalgoritme for √• lage sine egne maskinoversettelser. Det kunne v√¶rt en spennende pakke √• tilby til kunder ‚Äì jeg oversetter ikke bare, jeg lager en algoritme som blir ekspert p√• akkurat deres tekster!&lt;/p&gt;
&lt;p&gt;Jeg har fors√∏kt √• sette meg inn i Tensorflow og PyTorch, men jeg forst√•r det liksom ikke helt. Det glipper.&lt;/p&gt;
&lt;p&gt;I spr√•kl√¶ring heter det at man l√¶rer mest av √• lese tekster hvor man forst√•r 80¬†%, slik at hjernen forst√•r helheten, og kan fokusere p√• √• fylle inn de ukjente enkeltordene og -uttrykkene. N√•r jeg pr√∏ver √• lese meg opp p√• maskinl√¶ring, har jeg f√∏lelsen av at jeg ikke har n√•dd til disse 80¬†%-ene enn√•. Jeg har ikke nok forutsetninger for √• helt forestille meg hva det handler om.&lt;/p&gt;
&lt;p&gt;S√• for tiden leter jeg etter en god ressurs til √• komme igang med det helt grunnleggende. Om du kjenner til en god ressurs for en nybegynner, gi meg gjerne noen tips :) (jeg liker b√∏ker!)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Hammer Faktura versjon 3</title>
      <link>https://www.olehammersland.com/blogg/hammer-faktura-versjon-3/</link>
      <pubDate>Sun, 21 Mar 2021 18:16:42 +0100</pubDate>
      
      <guid>https://www.olehammersland.com/blogg/hammer-faktura-versjon-3/</guid>
      <description>&lt;p&gt;Jeg har oppdatert Hammer Faktura igjen! I denne bloggposten g√•r jeg gjennom hva som er nytt, og gir litt dokumentasjon p√• hvordan man kan bruke programmet.&lt;/p&gt;
&lt;h2 id=&#34;nytt-i-hammer-faktura-versjon-3&#34;&gt;Nytt i Hammer Faktura versjon 3:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;St√∏tte for sqlite-database muliggj√∏r lagring av fakturaposter, kunder, bankinformasjon og fakturaer.&lt;/li&gt;
&lt;li&gt;Kommandolinjeverkt√∏y for direkte samhandling med databasen.&lt;/li&gt;
&lt;li&gt;Wrapper-funksjoner som forenkler prosessen med √• opprette faktuaene.&lt;/li&gt;
&lt;li&gt;St√∏tte for enkel flerspr√•klighet, slik at jeg kan skrive ut engelske fakturaer.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;De tidligere utgavene av Hammer Faktura har kun hatt st√∏tte for √• opprette fakturaene. Fakturaene har blitt opprettet ved √• kj√∏re data fra eksterne kilder gjennom programmet. N√• legger jeg til st√∏tte for √• lagre all relevant informasjon i en egen database. En database er i prinsippet som et Excel-regneark: den inneholder ulike tabeller som er knyttet sammen. Man kan samhandle med databasen med sp√∏rringsspr√•ket SQL, eller med andre verkt√∏y og drivere.&lt;/p&gt;
&lt;p&gt;Det er det som er fint med √• lagre all informasjonen i en SQL-database: det er en ganske agnostisk m√•te √• lagre data p√•. Det finnes utallige m√•ter √• hente dataene og kj√∏re regnestykker og analyser p√• dem, og det er ikke knyttet til noe spesielt program eller programmeringsspr√•k. Den sentraliserte datastrukturen burde tilfredsstille alle behovene mine for regnskapsf√∏ring: f.eks kan jeg regne ut hvor mye penger jeg tjente i l√∏pet av en viss tidsperiode, hvor mye MVA jeg har betalt, hvor mange oppdrag jeg har f√•tt fra kunde X, osv.&lt;/p&gt;
&lt;p&gt;Hammer Faktura har f√•tt en egen modul, &lt;code&gt;hfdb&lt;/code&gt;(Hammer Faktura -database), som er ansvarlig for √• samhandle med databasen og knytte informasjonen der sammen med programmet mitt.&lt;/p&gt;
&lt;p&gt;Hammer Faktura kan n√• dessuten &lt;a href=&#34;#kommandolinjeverkt%C3%B8y&#34;&gt;kj√∏res direkte som et skript&lt;/a&gt; med &amp;ldquo;-m&amp;rdquo; flagget til Python.&lt;/p&gt;
&lt;h2 id=&#34;dokumentasjon&#34;&gt;Dokumentasjon&lt;/h2&gt;
&lt;h3 id=&#34;hurtigstart&#34;&gt;Hurtigstart&lt;/h3&gt;
&lt;p&gt;Last ned modulen:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git clone https://github.com/Oleham/hammer_faktura.git
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Opprett en tom database i n√•v√¶rende mappe. Navnet vil alltid v√¶re &lt;code&gt;hammer_faktura.db&lt;/code&gt;.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ python3 -m hammer_faktura.create_tables
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Importer database-modulen &lt;code&gt;hammerfaktura.hfdb&lt;/code&gt; i skriptet ditt. Den inneholder funksjoner for √• samhandle med databasen.
Lag en enkel faktura for ett oppdrag:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#cd00cd&#34;&gt;from&lt;/span&gt; hammer_faktura &lt;span style=&#34;color:#cd00cd&#34;&gt;import&lt;/span&gt; hfdb

&lt;span style=&#34;color:#000080&#34;&gt;# Legg til en kunde i databasen.&lt;/span&gt;
client_pk &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hfdb&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;addClient(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Kunde&amp;#34;&lt;/span&gt;, 
                            &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;934 343 343&amp;#34;&lt;/span&gt;,
                            &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Adresseveien 4, 1234 Oslo&amp;#34;&lt;/span&gt;, 
                            &lt;span style=&#34;color:#cd00cd&#34;&gt;0.25&lt;/span&gt;, 
                            &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;NOK&amp;#34;&lt;/span&gt;)

&lt;span style=&#34;color:#000080&#34;&gt;# Legg til bankinformasjonen din i databasen.&lt;/span&gt;
bank_pk &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hfdb&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;addBank(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;123.2312.2323&amp;#34;&lt;/span&gt;, 
                        &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;NO87234233&amp;#34;&lt;/span&gt;,
                        &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;NONKIRE&amp;#34;&lt;/span&gt;,
                        &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Banken AS&amp;#34;&lt;/span&gt;)

&lt;span style=&#34;color:#000080&#34;&gt;# Verdien p√• jobben&lt;/span&gt;
value &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#cd00cd&#34;&gt;2320.3&lt;/span&gt;

generator &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hfdb&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;quickGeneratorFromItem(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;01.01.1990&amp;#34;&lt;/span&gt;,
                                        &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;ID-231&amp;#34;&lt;/span&gt;,
                                        &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Oversettelse kokebok&amp;#34;&lt;/span&gt;,
                                        value,
                                        client_pk, 
                                        bank_pk)

invoice &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; generator&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;makeInvoiceBody()

&lt;span style=&#34;color:#cdcd00&#34;&gt;with&lt;/span&gt; &lt;span style=&#34;color:#cd00cd&#34;&gt;open&lt;/span&gt;(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;faktura.html&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;w&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#cdcd00&#34;&gt;as&lt;/span&gt; f:
    f&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;write(invoice)

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;hfdb.quickGeneratorFromItem&lt;/code&gt; lar oss legge til en jobb i databasen og umiddelbart skape en faktura for den. Med &lt;code&gt;hfdb.quickGeneratorFromList&lt;/code&gt; kan vi p√• samme m√•te legge inn flere oppdrag og umiddelbart skape en faktura.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;jobber &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; [{&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;dato&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd00cd&#34;&gt;1615968966&lt;/span&gt;,
    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;1234&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;beskrivelse&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Oversettelse avis&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;netto&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd00cd&#34;&gt;320.12&lt;/span&gt;
    }, 
    {&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;dato&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd00cd&#34;&gt;1615968100&lt;/span&gt;,
    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;5678&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;beskrivelse&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Korrekturlesning 4 timer&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;netto&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd00cd&#34;&gt;1030.20&lt;/span&gt;
    }, 
    {&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;dato&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd00cd&#34;&gt;1616328966&lt;/span&gt;,
    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;ABCDF&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;beskrivelse&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Kokebok&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;netto&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd00cd&#34;&gt;365.06&lt;/span&gt;,
    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;vat&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd00cd&#34;&gt;0.15&lt;/span&gt; &lt;span style=&#34;color:#000080&#34;&gt;# obs!&lt;/span&gt;
    } 
]

generator &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hfdb&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;quickGeneratorFromList(jobber, client_pk, bank_pk)

invoice &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; generator&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;makeInvoiceBody()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Merk at det er valgfritt √• oppgi en mva-sats p√• enkeltjobbene. Om det ikke oppgis noen mva-sats, vil standardsatsen for den aktuelle kunden velges (i dette tilfellet 0.25, alts√• 25 %)&lt;/p&gt;
&lt;h3 id=&#34;samhandling-med-databasen&#34;&gt;Samhandling med databasen&lt;/h3&gt;
&lt;p&gt;La oss ta en titt p√• hva som skjer i bakgrunnen. Da er det nyttig √• f√∏rst kaste et blikk p√• strukturen til databasen:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/hammer_faktura_database.jpg&#34; alt=&#34;En skjematisk fremstilling av databasen&#34;&gt;&lt;/p&gt;
&lt;p&gt;Som vi ser, best√•r databasen av fire tabeller: invoices, invoice_items, clients og banks. Den viktigste tabellen som knytter alle tabellene sammen, er invoices. Det er alltid knyttet en client og en bank til hver invoice, i et √©n-til-√©n-forhold. Samtidig kan flere poster i invoice_items, som representerer de enkelte jobbene, v√¶re knyttet til en invoice i et mange-til-√©n-forhold (en faktura kan inneholde flere fakturaposter).&lt;/p&gt;
&lt;p&gt;I forrige avsnitt viste jeg hvordan man veldig raskt kan skape fakturaer med &lt;code&gt;hfdb.quickGeneratorFromItem&lt;/code&gt; og &lt;code&gt;hfdb.quickGeneratorFromList&lt;/code&gt;. Dette er faktisk to wrapper-funksjoner som ¬´wrapper¬ª en rekke funksjoner for samhandling med databasen, med den hensikt √• gj√∏re det s√• enkelt s√• mulig √• opprette en faktura hurtig. De gj√∏r to ting med informasjonen som gis dem: de legger dem til i databasen, og s√• returnerer de en &lt;code&gt;hammer_faktura.Generator&lt;/code&gt;, som vi kan bruke for √• skape en faktura.&lt;/p&gt;
&lt;p&gt;La oss ta en titt p√• hva som skjer i bakgrunnen n√•r vi bruker disse wrapper-funksjonene:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#cd00cd&#34;&gt;from&lt;/span&gt; hammer_faktura &lt;span style=&#34;color:#cd00cd&#34;&gt;import&lt;/span&gt; hfdb

jobber &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; [{&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;dato&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd00cd&#34;&gt;1615968100&lt;/span&gt;,
    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;5678&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;beskrivelse&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Korrekturlesning 4 timer&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;netto&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd00cd&#34;&gt;1030.20&lt;/span&gt;,
    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;client&amp;#34;&lt;/span&gt;: client_pk  &lt;span style=&#34;color:#000080&#34;&gt;# obs!&lt;/span&gt;
    },
    [&lt;span style=&#34;&#34;&gt;‚Ä¶&lt;/span&gt;]

&lt;span style=&#34;color:#cdcd00&#34;&gt;for&lt;/span&gt; jobb &lt;span style=&#34;color:#cdcd00&#34;&gt;in&lt;/span&gt; jobber:
    hfdb&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;addItem(jobb)  

invoice_number &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hfdb&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;addInvoice(client_pk, bank_pk, 
                    dato&lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt;timestamp, 
                    frist&lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#cd00cd&#34;&gt;30&lt;/span&gt;, 
                    language&lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;NO&amp;#34;&lt;/span&gt;)
                                                                                     
hfdb&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;assignItemsByDate(invoice_number, 
                    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;16.03.2021&amp;#34;&lt;/span&gt;,
                    &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;21.03.2021&amp;#34;&lt;/span&gt;)  
  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I dette eksempelet lagrer vi jobbene manuelt i databasen med &lt;code&gt;hfdb.addItem()&lt;/code&gt;. Jobbene lagres i tabellen invoice_items. Merk at vi n√• er n√∏dt til √• oppgi hvem som er client for hver enkelt jobb, siden vi n√• legger til jobbene ¬´uavhengig¬ª av en faktura.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hfdb.addInvoice()&lt;/code&gt; lagrer en faktura i databasen, i tabellen invoices. Det er kun n√∏dvendig √• oppgi en kunde og bankinformasjon. Vi kan ogs√• oppgi f√∏lgende: en egendefinert fakturadato (som timestamp ‚Äì standard er dagens dato), en egendefinert frist eller velge et annet spr√•k enn norsk. I bakgrunnen blir det automatisk generert et fakturanummer som returneres og lagres i variabelen invoice_number.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hfdb.assignItemsByDate()&lt;/code&gt; knytter s√• en rekke invoice_item til en invoice i et √©n-til-flere-forhold. Dette forholdet etableres f√∏rst n√•r vi kj√∏rer denne funksjonen ‚Äì fakturaposter som enn√• ikke er blitt ber√∏rt, vil ikke v√¶re tilknyttet noen faktura i det hele tatt. Argumentene er fakturanummeret det gjelder og et datospenn. Alle poster i invoice_items med samme client som fakturaen og leveringsdato innenfor tidsspennet, blir knyttet til fakturaen.&lt;/p&gt;
&lt;h3 id=&#34;skape-og-bruke-fakturageneratoren&#34;&gt;Skape og bruke fakturageneratoren&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;[&lt;span style=&#34;&#34;&gt;‚Ä¶&lt;/span&gt;]

generator &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hfdb&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;makeGenerator(invoice_number)  

body &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; generator&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;makeInvoiceBody()

&lt;span style=&#34;color:#cdcd00&#34;&gt;with&lt;/span&gt; &lt;span style=&#34;color:#cd00cd&#34;&gt;open&lt;/span&gt;(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;faktura.html&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;w&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#cdcd00&#34;&gt;as&lt;/span&gt; f:
    f&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;write(body)

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Til slutt skaper vi generatoren med funksjonen &lt;code&gt;hfdb.makeGenerator()&lt;/code&gt;. Funksjonen tar et fakturanummer som argument, og forutsetter at det finnes poster i tabellen invoice_items som er knyttet til dette fakturanummeret. Det henter s√• all informasjon om client, bank, og invoice_items som er knyttet til fakturaen, og lagrer det i generatoren.&lt;/p&gt;
&lt;p&gt;Generatoren er en klasse med tre underklasser, client, invoice og bank, som til sammen inneholder all relevant informasjon om fakturaen fra databasen. Den har ogs√• en (wrapper-)metode &lt;code&gt;hammer_faktura.Generator.makeInvoiceBody&lt;/code&gt; som returnerer et html-dokument som en string. &lt;a href=&#34;https://www.olehammersland.com/blogg/fakturaer-del-to/#1-initialisere-kunde-bank-og-faktura&#34;&gt;Se min forrige post for mer informasjon om Generator-objektet&lt;/a&gt;. &lt;code&gt;hfdb.makeGenerator()&lt;/code&gt; er alts√• en n√∏kkelfunksjon som forvandler en post i tabellen invoices til en python-klasse vi kan bruke programmet v√•rt.Vi kan  manuelt overskrive feltene til hammer_faktura.Generator-objektet, f.eks slik:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;generator &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hfdb&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;quickGeneratorFromList(jobber, client_pk, bank_pk)

generator&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;invoice&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;language &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;en&amp;#34;&lt;/span&gt;        &lt;span style=&#34;color:#000080&#34;&gt;# endre spr√•k.&lt;/span&gt;
generator&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;invoice&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;forfall &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;01.01.2020&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#000080&#34;&gt;# overskrive forfallsdatoen&lt;/span&gt;
generator&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;client&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;vat &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#cd00cd&#34;&gt;0.3&lt;/span&gt;               &lt;span style=&#34;color:#000080&#34;&gt;# overskrive mva-satsen&lt;/span&gt;
generator&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;invoice_items[&lt;span style=&#34;color:#cd00cd&#34;&gt;0&lt;/span&gt;][&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;beskrivelse&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#39c&#34;&gt;+=&lt;/span&gt; &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34; m.m.&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#000080&#34;&gt;# endre en jobb&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Man skal imidlertid ha en ganske god grunn for √• gj√∏re det, for endringene vil ikke gjenspeiles i databasen, kun p√• fakturaen man s√• genererer. Om man vil endre p√• innholdet i databasen, m√• det gj√∏re med funksjonene i &lt;code&gt;hfdb&lt;/code&gt;-modulen.&lt;/p&gt;
&lt;h3 id=&#34;navn-og-kontrakter&#34;&gt;Navn og kontrakter&lt;/h3&gt;
&lt;p&gt;I dette prosjektet har jeg blitt inspirert av boken jeg leser for tiden, &lt;em&gt;The Go Programming Language&lt;/em&gt;. Forfatterne av boken g√•r n√∏ye gjennom navnekonvensjonene i Go, og det har v√¶rt l√¶rerikt √• tiln√¶rme seg en lignende konsekvenstenking n√•r jeg definerer funksjoner og oppf√∏rsel i dette prosjektet.&lt;/p&gt;
&lt;p&gt;Som den oppmerksomme leser kanskje har f√•tt med seg, finnes det en rekke funksjoner i Hammer Faktura med prefikset ¬´add¬ª, etterfulgt av et objekt i singular. ¬´addInvoice¬ª, ¬´addItem¬ª, ¬´addClient¬ª og ¬´addBank¬ª. Alle disse korresponderer med en tabell i databasen.&lt;/p&gt;
&lt;p&gt;Wrapper-funksjonene starter med ¬´quick¬ª og gir allerede i navnet et hint om hvilke argumenter som m√• f√∏lge: ¬´quickGeneratorFromList¬ª eller ¬´quickGeneratorFromItem¬ª.&lt;/p&gt;
&lt;p&gt;Hva er poenget? Hvorfor ikke bare kalle funksjonene for ¬´funksjon1¬ª eller ¬´asdfgh¬ª?&lt;/p&gt;
&lt;p&gt;Vel, ved √• skape lignende navn og lignende oppf√∏rsel blir det lettere √• lese og forst√• koden. Det skaper en slags ¬´kontrakt¬ª mellom brukeren og modulen. Konsekvenstenkingen vil ogs√• gj√∏re det lettere for meg √• plukke opp koden p√• et senere tidspunkt. Jeg har for eksempel bestemt at alle ¬´addX¬ª-funksjonene legger til noe i databasen, og at de returnerer prim√¶rn√∏kkelen for den posten de nettopp la til. Dette skal da gjennomf√∏res konsekvent, selv om jeg som regel ikke bruker denne returverdien til noe, unntatt i ¬´addInvoice¬ª. Om jeg i fremtiden vil bruke Hammer Faktura p√• en ny m√•te, vet jeg imidlertid at det er en mulighet. Det vil ogs√• gj√∏re det lettere √• skumme gjennom listen over funksjoner og se hvilke nye funksjoner som kan legges til. Kanskje vil jeg legge til en funksjon kalt ¬´assignItemsById¬ª for √• knytte fakturaposter til fakturaer etter jobb-id, i stedet for etter et datospenn med ¬´assignItemsByDate¬ª.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;def addItem(values)&lt;/li&gt;
&lt;li&gt;def addClient(navn, org_nr, adresse, vat, valuta)&lt;/li&gt;
&lt;li&gt;def addBank(konto, iban, bic, bank)&lt;/li&gt;
&lt;li&gt;def addInvoice(client, bank, dato=int(time.time()), frist=30, language=&amp;ldquo;NO&amp;rdquo;)&lt;/li&gt;
&lt;li&gt;def assignItemsByDate(invoice, _from, to)&lt;/li&gt;
&lt;li&gt;def makeGenerator(id)&lt;/li&gt;
&lt;li&gt;def quickGeneratorFromList(items, client, bank)&lt;/li&gt;
&lt;li&gt;def quickGeneratorFromItem(dato, id, beskrivelse, netto, client, bank)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;N√•r jeg ser p√• listen over funksjoner, vil jeg si at det ser ganske forst√•elig ut (selvskryt skal man lytte til, for det kommer fra hjertet)! üò¨&lt;/p&gt;
&lt;p&gt;I henhold til SQL-konvensjoner er tabellene databasen skrevet i s√•kalt &lt;em&gt;snake case&lt;/em&gt; i stedet for &lt;em&gt;camel case&lt;/em&gt;, alts√• &lt;em&gt;slik_som_dette&lt;/em&gt; i stedet for &lt;em&gt;p√•DenneM√•ten&lt;/em&gt;. Dessuten st√•r tabellnavn alltid i flertall.&lt;/p&gt;
&lt;h3 id=&#34;kommandolinjeverkt√∏y&#34;&gt;Kommandolinjeverkt√∏y&lt;/h3&gt;
&lt;p&gt;Jeg har begynt √• lage st√∏tte for √• bruke Hammer Faktura i kommandolinjen. Inntil videre har jeg konsentrert meg spesielt om de operasjonene som ikke m√• gj√∏res s√• ofte: da tenker jeg p√• det √• legge til en ny kunde eller en ny bankforbindelse. Jeg har ogs√• st√∏tte for √• legge til en enkelt jobb i invoice_item.&lt;/p&gt;
&lt;p&gt;Slik kan Hammer Faktura brukes i kommandolinjen:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ python3 -m hammer_faktura

Usage: python3 -m hammer_faktura [-l/-a] &amp;lt;args&amp;gt;

        list: -l or --list (table name in plural, i.e. &amp;quot;invoices&amp;quot;)
        add: -a or --add (item, bank, client or invoice)

$ python3 -m hammer_faktura -l clients

3       Navn     Org        Adresse     0.25    NOK
4       Test     234234     Adresse     0.25    SEK
5       Navn     43443      Adresse     0.25    SEK
6       Probe    234233     Adresse     0.25    SEK

$ python3 -m hammer_faktura -a client &amp;quot;En ny kunde&amp;quot; 94233465 &amp;quot;Bakketoppen 4, 4567 Kristiansand&amp;quot; 0.25 NOK

        Name: En ny kunde
        Org_nr: 94233465
        Adresse: Bakketoppen 4, 4567 Kristiansand
        VAT rate: 0.25
        Valuta: NOK

Type Y to add client (Y)
Y
Added new client: En ny kunde, 94233465, Bakketoppen 4, 4567 Kristiansand, 0.25, NOK

$ python3 -m hammer_faktura -l clients

3       Navn            Org        Adresse               0.25    NOK
4       Test            234234     Adresse               0.25    SEK
5       Navn            43443      Adresse               0.25    SEK
6       Probe           234233     Adresse               0.25    SEK      
8       En ny kunde     94233465   Bakketoppen 4, 
                                   4567 Kristiansand     0.25    NOK
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Neste punkt p√• programmet vil v√¶re st√∏tte for √• lage en faktura direkte i kommandolinjen, p√• samme m√•te som &lt;code&gt;hfdb.quickGeneratorFromItem&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/Oleham/hammer_faktura&#34;&gt;Se Hammer Faktura p√• Github!&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Fakturaer del to</title>
      <link>https://www.olehammersland.com/blogg/fakturaer-del-to/</link>
      <pubDate>Wed, 03 Mar 2021 20:34:36 +0100</pubDate>
      
      <guid>https://www.olehammersland.com/blogg/fakturaer-del-to/</guid>
      <description>&lt;p&gt;Fakturaer, fakturaer. Jeg tenker fortsatt utelukkende p√• fakturaer.&lt;/p&gt;
&lt;p&gt;I forrige blogginnlegg skrev jeg om &lt;a href=&#34;https://www.olehammersland.com/blogg/fakturagenerator-i-python&#34;&gt;en fakturagenerator jeg har skrevet i Python&lt;/a&gt;. Et g√∏y prosjekt som jeg satt sammen i l√∏pet av noen dager innimellom oversettelsesoppdragene. Denne uken skulle Hammer Faktura settes p√• pr√∏ve, og den bestod!&lt;/p&gt;
&lt;p&gt;I l√∏pet av 3 sekunder hadde jeg lastet ned informasjonen om 500 mini-oppdrag fra XTRF, fordelt disse p√• tre fakturaer basert p√• avdeling og tegnet opp tre fine fakturaer med fakturanummer, forfallsdato, bankopplysninger og kundenes adresser.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/hammer-faktura-faktura_hf.jpg&#34; alt=&#34;Den forrige fakturaen!&#34;&gt;&lt;/p&gt;
&lt;p&gt;Resultatet ser fint ut. I prinsippet speiler det opplysningene i XTRF helt og holdent.&lt;/p&gt;
&lt;h2 id=&#34;utfordringene&#34;&gt;Utfordringene&lt;/h2&gt;
&lt;p&gt;Den siste uken har jeg imidlertid hatt den tvilsomme gleden av √• fylle ut min f√∏rste MVA-melding. N√• som jeg har v√¶rt i gjennom den prosessen, skj√∏nner jeg mer av hva som er nyttig i forbindelse med fakturaer. Jeg m√•tte for eksempel stadig konsultere kalkulatoren for √• finne tall som ikke var skrevet eksplisitt p√• fakturaen, bruttoprisen p√• enkeltjobber eller sammenlagt MVA. Om jeg en dag m√• f√∏re opplysningene inn i andre skjemaer eller regnskapsark, vil det potensielt bety masse omregning.&lt;/p&gt;
&lt;p&gt;Det jeg p√• den andre &lt;em&gt;siden ikke hadde bruk for i det hele tatt&lt;/em&gt;, var opplysninger som den interne jobb-ID-en til XTRF, oppdragstypen, etc. En faktura er en salgsdokumentasjon som skal dokumentere salget, pengene som skifter h√•nd og hvilke forpliktelser som oppst√•r med hensyn til MVA-registeret. Det er et dokument som skal regnskapsf√∏res og v√¶re etterettelig. I MVA-meldingen er det helt ubetydelig om oppdraget var oversettelse eller korrekturlesning ‚Äì man trenger bare ha en passe god beskrivelse av hva slags arbeid som har blitt utf√∏rt. Det er bel√∏pene som teller.&lt;/p&gt;
&lt;p&gt;Derfor har jeg gitt programmet en ordentlig overhaling, oppdatert fakturamalene og ellers fikset opp i en del sm√•ting som jeg har manglet.&lt;/p&gt;
&lt;h2 id=&#34;ny-utforming&#34;&gt;Ny utforming&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/hammer-faktura-eksempel-ny-faktura.jpg&#34; alt=&#34;Ny utforming p√• fakturaen&#34;&gt;&lt;/p&gt;
&lt;p&gt;N√• har jeg presset de tidligere spaltene navn + type, som jo egentlig var kategorier fra XTRF, inn p√• en linje som heter &amp;ldquo;Beskrivelse&amp;rdquo;. Her kan jeg legge inn en generell varebeskrivelse. Jeg beholder ID-kolonnen, fordi jeg ser for meg at den kan brukes i mange sammenhenger. Jeg har lagt til en egen MVA-utregning p√• hver eneste post, hvilket gj√∏r at fakturaen er mye mer eksplisitt. Dessuten har jeg lagt til en utregning for totalt beregnet MVA.&lt;/p&gt;
&lt;p&gt;Jeg kunne ikke dy meg, og la ogs√• til en liten gul farge nederst ‚Äì i tr√•d med den klassiske norske giroen.&lt;/p&gt;
&lt;h2 id=&#34;gjennomgang-av-nye-hammer-faktura&#34;&gt;Gjennomgang av nye Hammer Faktura&lt;/h2&gt;
&lt;p&gt;I det nye programmet har jeg lagt til to nye klasser: Bank og Faktura. Det slo meg at jeg ikke ville oppgi min egen bankinformasjon p√• Github, s√• n√• er ikke lenger bankopplysningene statiske inne i programmet.&lt;/p&gt;
&lt;p&gt;N√• som mye av informasjonen var blitt sortert etter Kunde og Bank, slo deg meg som inkonsekvent at fakturanummer og forfallsdato ligger lagret direkte i fakturageneratoren. Derfor ligger den informasjonen n√• i en egen Faktura-klasse.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#cdcd00&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#00cdcd&#34;&gt;Bank&lt;/span&gt;():

	&lt;span style=&#34;color:#cdcd00&#34;&gt;def&lt;/span&gt; __init__(self, konto, iban, bic, bank):
		self&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;konto &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; konto
		self&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;iban &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; iban
		self&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;bic &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; bic
		self&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;bank &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; bank

&lt;span style=&#34;color:#cdcd00&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#00cdcd&#34;&gt;Faktura&lt;/span&gt;():

	&lt;span style=&#34;color:#cdcd00&#34;&gt;def&lt;/span&gt; __init__(self):
		self&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;id &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; self&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;make_invoice_number()
		self&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;dato, self&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;forfall &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; self&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;get_invoice_dates()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Jobben med √• faktisk skape fakturaen har blitt flyttet til en fjerde klasse, som heter Generator. Dermed er oppgavefordelingen slik:&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;code&gt;Kunde()&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Holder informasjon om kunden. Dette inkluderer ogs√• informasjon om MVA-sats og valuta.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;Faktura()&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Inneholder metainformasjon om fakturaen:  dato, forfall og fakturanr.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;Bank()&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Inneholder betalingsinformasjon som kontonr, IBAN etc.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;Generator()&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;har som oppgave √• skape fakturaen. Skaper en tabell med metoden &lt;code&gt;add_to_invoice&lt;/code&gt; og fyller inn metainformasjon fra Kunde, Faktura og Bank.&lt;/dd&gt;
&lt;/dl&gt;
&lt;h3 id=&#34;1-initialisere-kunde-bank-og-faktura&#34;&gt;1. Initialisere kunde, bank og faktura&lt;/h3&gt;
&lt;p&gt;Det f√∏rste som m√• gj√∏res, er √• initialisere Kunde og Bank. Faktura skapes fortsatt automatisk.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#000080&#34;&gt;# Importer modulen&lt;/span&gt;
&lt;span style=&#34;color:#cd00cd&#34;&gt;import&lt;/span&gt; hammer_faktura

&lt;span style=&#34;color:#000080&#34;&gt;# Initialiser Kunde og Bank.&lt;/span&gt;
&lt;span style=&#34;color:#000080&#34;&gt;# Initialiser selve Generatoren.&lt;/span&gt;
&lt;span style=&#34;color:#000080&#34;&gt;# Faktura initialiseres automatisk med datoer og id.&lt;/span&gt;
kunde &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hammer_faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;Kunde(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Kunde AS&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;123456789&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Adresseveien 4&amp;#34;&lt;/span&gt;)
bank &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hammer_faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;Bank(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;XX.XXX.XXX..XX&amp;#34;&lt;/span&gt;,
        	&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;NOXX.XXXX.XXXX.XX&amp;#34;&lt;/span&gt;,
        	&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;NKSVP&amp;#34;&lt;/span&gt;,
        	&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Banken AS&amp;#34;&lt;/span&gt;)

generator &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hammer_faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;Generator(kunde, bank)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Viktig √• merke seg at man ogs√• kan legge til to valgfrie argumenter n√•r man initialiserer kunden for √• endre MVA-sats og valuta. Som standard initialiseres kunden med 0,25¬†% MVA og ¬´NOK¬ª som valuta.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#000080&#34;&gt;# Kunde med null MVA og amerikanske dollar som valuta.&lt;/span&gt;
kunde &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hammer_faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;Kunde(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Kunde AS&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;123456789&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Adresseveien 4&amp;#34;&lt;/span&gt;, vat&lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#cd00cd&#34;&gt;0.00&lt;/span&gt;, valuta&lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;USD&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;P√• dette stadiet har man ogs√• mulighet til √• endre andre standarder. For eksempel kan forfallsdato eller fakturadato endres manuelt, om du vil gi kunden litt lenger frist.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#000080&#34;&gt;# Endre fakturadato og forfallsdato manuelt&lt;/span&gt;
generator&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;dato &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;10.05.1997&amp;#34;&lt;/span&gt;
generator&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;forfall &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;10.07.1997&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-mat-inn-alle-oppdrag&#34;&gt;2. Mat inn alle oppdrag&lt;/h3&gt;
&lt;p&gt;N√• som rammeopplysningene er p√• plass, kan vi legge inn noen oppdrag vi vil fakturere kunden for. For hvert oppdrag m√• vi legge inn en leveringsdato, en id, en beskrivelse og et bel√∏p. Leveringsdato, ID og bekreftelse er tekst, mens bel√∏pet er et naturlig tall (floating point) som vi skal utf√∏re mattestykker p√•.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#000080&#34;&gt;# Her lager jeg en liste med 3 fiktive oppdrag&lt;/span&gt;
&lt;span style=&#34;color:#000080&#34;&gt;# Hvert av de fiktive oppdragene ligger i en dictionary.&lt;/span&gt;
alle_oppdrag &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; [{&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;leveringsdato&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;01.01.2020&amp;#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;001&amp;#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;navn&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Oversettelse nettside&amp;#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;bel√∏p&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd00cd&#34;&gt;1200.00&lt;/span&gt;
                },
                {&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;leveringsdato&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;05.01.2020&amp;#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;002&amp;#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;navn&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Korrekturlesning&amp;#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;bel√∏p&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd00cd&#34;&gt;432.30&lt;/span&gt;
                },
                {&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;leveringsdato&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;06.01.2020&amp;#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;004&amp;#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;navn&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Skj√∏nnlitteratur oversettelse&amp;#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;bel√∏p&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#cd00cd&#34;&gt;1223.00&lt;/span&gt;
                }]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Det er lurt √• p√• en eller annen m√•te strukturere dataene p√• en forutsigbar m√•te. I dette tilfellet har jeg laget en liste. Listen inneholder 3 unike gjenstander. Hver gjenstand representerer √©n jobb, og inneholder 4 n√∏kkel-verdi-par som inneholder de fire opplysningene jeg beh√∏ver (i Python er dette en &lt;em&gt;dictonary&lt;/em&gt;, en samling med data strukturert som n√∏kkel-verdi-par)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#000080&#34;&gt;# Loop over alle oppdragene i datasettet.&lt;/span&gt;
&lt;span style=&#34;color:#000080&#34;&gt;# Legg inn id, navn, type, bel√∏p, enhet og leveringsdato.&lt;/span&gt;
&lt;span style=&#34;color:#000080&#34;&gt;# Gjenta for alle oppdragene som skal med.&lt;/span&gt;
&lt;span style=&#34;color:#cdcd00&#34;&gt;for&lt;/span&gt; oppdrag &lt;span style=&#34;color:#cdcd00&#34;&gt;in&lt;/span&gt; alle_oppdrag:
	generator&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;add_to_invoice(oppdrag[&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;leveringsdato&amp;#34;&lt;/span&gt;],
							oppdrag[&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;],
							oppdrag[&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;navn&amp;#34;&lt;/span&gt;],
							oppdrag[&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;bel√∏p&amp;#34;&lt;/span&gt;])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;N√• kan jeg loope over de tre gjenstandene i listen min. Jeg kaller metoden &lt;code&gt;faktura.add_to_invoice&lt;/code&gt; p√• hver gjenstand, slik at informasjonen blir lagt inn i faktura-generatoren.&lt;/p&gt;
&lt;p&gt;Takket v√¶re den nye fordelingen med netto-brutto-utregning for hver eneste fakturapost, kan vi n√• ogs√• endre MVA-satsen p√• enkelte poster. Dette kan v√¶re nyttig om du skal fakturere med ulike MVA-satser.&lt;/p&gt;
&lt;p&gt;I eksempelet nedenfor skal jeg fakturere en jobb som av en eller annen grunn har en annen MVA-sats. Da legger jeg til et fjerde, valgfritt argument som sier at MVA-satsen p√• denne jobben skal v√¶re 12¬†%, i stedet for de 25¬†%-ene som er standard p√• overordnet niv√• (fra &lt;code&gt;generator.kunde.vat&lt;/code&gt;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;generator&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;add_to_invoice(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;07.01.2020&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;0007&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Oversettelse skatteregler&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd00cd&#34;&gt;1310.23&lt;/span&gt;, vat&lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#cd00cd&#34;&gt;0.12&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;3-generer-fakturaen-og-skriv-til-fil&#34;&gt;3. Generer fakturaen og skriv til fil&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#000080&#34;&gt;# Generer tabellen.&lt;/span&gt;
&lt;span style=&#34;color:#000080&#34;&gt;# Generer s√• selve fakturaen og lagre den i en variabel.&lt;/span&gt;
generator&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;generate_table()
html_fil &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; generator&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;generate_body()

&lt;span style=&#34;color:#000080&#34;&gt;# Skriv fakturaen til en fil.&lt;/span&gt;
&lt;span style=&#34;color:#000080&#34;&gt;# (Bruk fakturanummret i filnavnet for bedre oversikt.)&lt;/span&gt;
&lt;span style=&#34;color:#cdcd00&#34;&gt;with&lt;/span&gt; &lt;span style=&#34;color:#cd00cd&#34;&gt;open&lt;/span&gt;(&lt;span style=&#34;color:#cd0000&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;invoices/obs_faktura_&lt;/span&gt;&lt;span style=&#34;color:#cd0000&#34;&gt;{&lt;/span&gt;generator&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;id&lt;span style=&#34;color:#cd0000&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#cd0000&#34;&gt;.html&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;w&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#cdcd00&#34;&gt;as&lt;/span&gt; f:
	f&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;write(html_fil)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Resten fungerer som f√∏r. Ved √• kalle &lt;code&gt;generator.generate_table()&lt;/code&gt;, vil tabellen til fakturaen skapes. Neste kall til &lt;code&gt;generator.generate_body()&lt;/code&gt; legger tabellen, kundeinformasjon, bankinformasjon og fakturainformasjon inn i selve HTML-dokumentet og returnerer det. Jeg lagrer det returnerte objektet i variabelen html_fil, og skriver den til en fil. Filen markerer jeg med fakturanummeret, som jeg har tilgang til via &lt;code&gt;generator.faktura.id&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.olehammersland.com/obs_faktura_9159.html&#34;&gt;Her kan du se den ferdige fakturaen.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Det er alt som trengs for √• ¬´programmatisk¬ª skape en faktura. N√• burde det meste ligge til rette for √• automatisere hele prosessen, for eksempel ved √• binde Hammer Faktura inn i et skript som laster informasjonen om utf√∏rte oppdrag ned fra XTRF-installasjonen til kunden din.&lt;/p&gt;
&lt;h2 id=&#34;andre-forbedringer&#34;&gt;Andre forbedringer&lt;/h2&gt;
&lt;p&gt;Det er ogs√• noen andre forbedringer jeg er forn√∏yd med med tanke p√• organisering av kode.&lt;/p&gt;
&lt;p&gt;N√• ligger alle byggesteinene til dokumentet lagret som maler i HTML-format i en og samme mappe. Det gj√∏r det enda enklere √• arbeide med utformingen til fakturaene, uten √• gj√∏re endringer i Python-koden.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;hammer_faktura&lt;span style=&#34;color:#39c&#34;&gt;/&lt;/span&gt;
&lt;span style=&#34;&#34;&gt;‚îú‚îÄ‚îÄ&lt;/span&gt; __init__&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;py
&lt;span style=&#34;&#34;&gt;‚îî‚îÄ‚îÄ&lt;/span&gt; maler
    &lt;span style=&#34;&#34;&gt;‚îú‚îÄ‚îÄ&lt;/span&gt; fakturamal&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;html
    &lt;span style=&#34;&#34;&gt;‚îú‚îÄ‚îÄ&lt;/span&gt; style&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;html
    &lt;span style=&#34;&#34;&gt;‚îú‚îÄ‚îÄ&lt;/span&gt; tabellmal&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;html
    &lt;span style=&#34;&#34;&gt;‚îî‚îÄ‚îÄ&lt;/span&gt; tr_elem_mal&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Dessuten har jeg lagt CSS-stilene inn i et eget HTML-dokument, som jeg legger inn i headeren til fakturaen. Dermed er fakturaen et helt frittst√•ende HTML-dokument hvor alt er synlig, litt som HTML-dokumentene til hjemmesiden min.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Obs:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Siden jeg la ut denne bloggposten har jeg oppdatert Hammer Faktura igjen. N√• har jeg lagt til st√∏tte for databaser.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.olehammersland.com/blogg/hammer-faktura-versjon-3&#34;&gt;Les bloggposten om versjon 3 av Hammer Faktura her&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.olehammersland.com/blogg/fakturagenerator-i-python&#34;&gt;Les bloggposten om den f√∏rste utgaven av Hammer Faktura her&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Fakturagenerator i Python</title>
      <link>https://www.olehammersland.com/blogg/fakturagenerator-i-python/</link>
      <pubDate>Wed, 24 Feb 2021 16:41:49 +0100</pubDate>
      
      <guid>https://www.olehammersland.com/blogg/fakturagenerator-i-python/</guid>
      <description>&lt;p&gt;I denne bloggposten beskriver jeg en fakturagenerator jeg har laget i Python. Fakturageneratoren kan i l√∏pet av f√• milisekunder opprette en faktura i HTML-format basert p√• data.&lt;/p&gt;
&lt;p&gt;Nedenfor vil jeg g√• litt gjennom prosjektet og vise hvordan det fungerer med et praktisk eksempel. &lt;a href=&#34;https://github.com/Oleham/hammer_faktura&#34;&gt;Koden til fakturageneratoren min finner du her!&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Oversikt:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;#hammer-faktura&#34;&gt;Hammer Faktura&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#slik-fungerer-det&#34;&gt;Slik fungerer det&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#den-ferdige-fakturaen&#34;&gt;Den ferdige fakturaen&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#eksempel-p%C3%A5-bruk-av-hammer-faktura&#34;&gt;Eksempel p√• bruk av Hammer Faktura&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#veien-videre&#34;&gt;Veien videre&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;hammer-faktura&#34;&gt;Hammer Faktura&lt;/h2&gt;
&lt;p&gt;I l√∏pet av februar har jeg gjort over 500 (sm√•) oppdrag for √©n og samme kunde. Disse skal faktureres til tre ulike organsiasjonsnumre avhengig av hvilket land oppdraget kom fra. Da ble det klart for meg at jeg beh√∏ver en automatisert m√•te √• opprette fakturaer p√• ‚Äì litt p√• samme m√•te som &lt;a href=&#34;https://www.olehammersland.com/blogg/simplevp-xtrf-gjort-enkelt/&#34;&gt;GUI-programmet mitt simpleVP&lt;/a&gt;, som jeg bruker til √• automatisere nedlastning av oppdrag fra XTRF-portalen.&lt;/p&gt;
&lt;p&gt;Det startet alts√• som et prosjekt skreddersydd √©n eneste kunde, men det kjentes ikke ut som noen elegant l√∏sning. Hva s√• n√•r jeg f√•r en annen kunde med andre behov?&lt;/p&gt;
&lt;p&gt;Jeg vil jo egentlig ha et fakturaprogram som kan:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;tilpasses ulike kunder.&lt;/li&gt;
&lt;li&gt;skape enhetlige fakturaer.&lt;/li&gt;
&lt;li&gt;ellers automatisere alt det praktiske med faktura-nr. og datoer.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Noen kunder vil ha faktura p√• jobb-basis, mens andre vil ha m√•nedlige fakturaer. Derfor er det viktig √• kunne tilpasse fakturaene og layoutet litt, samtidig som det hele skal ha et visst enhetlig format.&lt;/p&gt;
&lt;p&gt;L√∏sningen p√• dette ble √• todele det opprinnelige prosjektet mitt. Den ene delen er skriptet som laster ned data fra XTRF og sorterer det. Det er spesialtilpasset en viss kunde og et visst CMS-system.&lt;/p&gt;
&lt;p&gt;Resten av programmet flyttet jeg over i en hjemmelaget modul som jeg gav navnet &lt;strong&gt;Hammer Faktura&lt;/strong&gt; og by-linen &lt;em&gt;einfach der Hammer&lt;/em&gt;. Denne modulen har kun √©n jobb ‚Äì ta i mot data og lage en faktura p√• bakgrunn av denne. M√•let er at jeg skal kunne bruke den samme modulen med alle mine kunder.&lt;/p&gt;
&lt;h2 id=&#34;slik-fungerer-det&#34;&gt;Slik fungerer det&lt;/h2&gt;
&lt;p&gt;Slik er Hammer Faktura bygget opp:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;hammer_faktura
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ __init__.py
‚îî‚îÄ‚îÄ maler
    ‚îú‚îÄ‚îÄ faktura.css
    ‚îú‚îÄ‚îÄ fakturamal.html
    ‚îî‚îÄ‚îÄ tabellmal.html
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Den inneholder en python-fil med to klasser, og en mappe med byggeklosser i HTML og CSS. Jobben til modulen er √• hente inn informasjon, plassere det inn i HTML-byggeklossene og s√• sette sammen et ferdig dokument.&lt;/p&gt;
&lt;p&gt;Vi starter med kundeklassen:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/hammer-faktura-kunde-klasse.jpg&#34; alt=&#34;Kunde.klassen initaliseres&#34;&gt;&lt;/p&gt;
&lt;p&gt;Kunde-klassen inneholder s√• langt bare tre n√∏kkelinformasjoner: navn, organisasjonsnummer og adresse. Dette skal skrives ut p√• fakturaen. Etter hvert vil det ogs√• v√¶re aktuelt √• legge til flere variabler og metoder ‚Äì for eksempel om kunden vil ha 30 dagers eller 14 dagers frist.&lt;/p&gt;
&lt;p&gt;N√• som vi har initialisert en kunde, kan vi initialisere selve fakturaen.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/hammer-faktura-faktura-klasse.jpg&#34; alt=&#34;Faktura-klassen initaliseres&#34;&gt;&lt;/p&gt;
&lt;p&gt;I det Faktura-klassen initialiseres, fyller den automatisk ut feltet dato med dagens dato, og legger til en forfallsdato 1 m√•ned senere. Dessuten genererer den et tilfeldig fakturanummer.&lt;/p&gt;
&lt;p&gt;I tillegg inneholder den en liten html-snutt som representerer en rad i en tabell, lagret som &lt;code&gt;tr_elem_mal&lt;/code&gt;. Det er den som skal fylles opp med alle jobbene vi skal fakturere. Det gj√∏res trinn for trinn ved hjelp av metodene til Faktura-klassen.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;add_to_tr_elem&lt;/strong&gt;&lt;br&gt;
Denne metoden brukes til √• legge oppdragets navn, referanse, type og avtalt bel√∏p inn i html-snutten &lt;code&gt;Faktura.tr_elem_list&lt;/code&gt;. Hver gang metoden kalles, vil en ny rad legges inn i listen. Om det er flere oppdrag som skal legges til en faktura, kan man alts√• loope over dem og kalle denne metoden.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;generate_table&lt;/strong&gt;&lt;br&gt;
N√•r alle radene er p√• plass i &lt;code&gt;Faktura.tr_elem_list&lt;/code&gt;, kan selve tabellen genereres. Tabell-radene fra punkt 1 settes inn i &lt;code&gt;maler/tabellmal.html&lt;/code&gt;. Totalen legges s√• inn, og bruttopris regnes ut basert p√• momssatsen.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;generate_body&lt;/strong&gt;&lt;br&gt;
Til slutt kan man generere selve fakturaen. Den ferdige tabellen med total fra punkt 2 settes inn i &lt;code&gt;maler/fakturamal.html&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Her er en eksemplarisk bruk av modulen:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#000080&#34;&gt;# Importer modulen&lt;/span&gt;
&lt;span style=&#34;color:#cd00cd&#34;&gt;import&lt;/span&gt; hammer_faktura

&lt;span style=&#34;color:#000080&#34;&gt;# Last inn et datasett med alle oppdrag som skal p√• fakturaen&lt;/span&gt;
&lt;span style=&#34;color:#cdcd00&#34;&gt;with&lt;/span&gt; &lt;span style=&#34;color:#cd00cd&#34;&gt;open&lt;/span&gt;(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;oppdrag.json&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#cdcd00&#34;&gt;as&lt;/span&gt; f:
	alle_oppdrag &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; json&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;load(f)

&lt;span style=&#34;color:#000080&#34;&gt;# Oppgi kunde og initialiser fakturaen.&lt;/span&gt;
kunde &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hammer_faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;Kunde(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Kunde AS&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;123456789&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Adresseveien 4&amp;#34;&lt;/span&gt;)
faktura &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hammer_faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;Faktura(kunde)

&lt;span style=&#34;color:#000080&#34;&gt;# Loop over alle oppdragene i datasettet.&lt;/span&gt;
&lt;span style=&#34;color:#000080&#34;&gt;# Legg inn id, navn, type, bel√∏p, enhet og leveringsdato.&lt;/span&gt;
&lt;span style=&#34;color:#000080&#34;&gt;# Gjenta for alle oppdragene som skal med.&lt;/span&gt;
&lt;span style=&#34;color:#cdcd00&#34;&gt;for&lt;/span&gt; oppdrag &lt;span style=&#34;color:#cdcd00&#34;&gt;in&lt;/span&gt; alle_oppdrag:
	faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;add_to_tr_elem(oppdrag[&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;],
							oppdrag[&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;navn&amp;#34;&lt;/span&gt;],
							oppdrag[&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;],
							oppdrag[&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;bel√∏p&amp;#34;&lt;/span&gt;],
							oppdrag[&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;enhet&amp;#34;&lt;/span&gt;],
							oppdrag[&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;leveringsdato&amp;#34;&lt;/span&gt;])

&lt;span style=&#34;color:#000080&#34;&gt;# Generer tabellen.&lt;/span&gt;
&lt;span style=&#34;color:#000080&#34;&gt;# Generer s√• selve fakturaen og lagre den i en variabel.&lt;/span&gt;
faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;generate_table()
html_fil &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;generate_body()

&lt;span style=&#34;color:#000080&#34;&gt;# Skriv fakturaen til en fil.&lt;/span&gt;
&lt;span style=&#34;color:#000080&#34;&gt;# (Bruk fakturanummret i filnavnet for bedre oversikt.)&lt;/span&gt;
&lt;span style=&#34;color:#cdcd00&#34;&gt;with&lt;/span&gt; &lt;span style=&#34;color:#cd00cd&#34;&gt;open&lt;/span&gt;(&lt;span style=&#34;color:#cd0000&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;faktura_&lt;/span&gt;&lt;span style=&#34;color:#cd0000&#34;&gt;{&lt;/span&gt;faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;invoice_number&lt;span style=&#34;color:#cd0000&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#cd0000&#34;&gt;.html&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;w&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#cdcd00&#34;&gt;as&lt;/span&gt; f:
	f&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;write(html_fil)

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;den-ferdige-fakturaen&#34;&gt;Den ferdige fakturaen&lt;/h2&gt;
&lt;p&gt;Resultatet er et HTML-dokument som f.eks. kan √•pnes i nettleseren.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/hammer-faktura-faktura_hf.jpg&#34; alt=&#34;Eksempel p√• hvordan en ferdig faktura kan se ut.&#34;&gt;&lt;/p&gt;
&lt;p&gt;Dette dokumentet best√•r av to byggeklosser.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;maler/fakturamal.html&lt;/code&gt; inneholder selve rammen, med kontaktinformasjon, datoer og betalingsinformasjon.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;maler/tabellmal.html&lt;/code&gt; inneholder rammeverket for selve tabellen. Fordelen med denne oppgavedelingen er at jeg raskt kan utforme en annerledes tabell til en annen kunde, uten √• p√•virke utformingen til resten av fakturaen.&lt;/p&gt;
&lt;p&gt;Selve stylingen gj√∏res i &lt;code&gt;maler/faktura.css&lt;/code&gt;. Jeg har fors√∏kt √• legge meg p√• en stil som ligner p√• Faktura Larsen, et (gratis!) eldre hobbyprogram som fortsatt fungerer veldig bra.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.olehammersland.com/images/blogg/hammer-faktura-faktura_larsen.jpg&#34; alt=&#34;Faktura fra Faktura Larsen&#34;&gt;&lt;/p&gt;
&lt;p&gt;Minus den (riktignok tidl√∏se) giroen nederst, og kanskje pluss en liten logo.&lt;/p&gt;
&lt;p&gt;Hvorfor et HTML-dokument? Vel, det er utrolig versatilt og kan enkelt konverteres til PDF og docx ved hjelp av verkt√∏y som pandoc. Tanken er at det er et tidl√∏st format som kan brukes til veldig mye, og som det er lett √• endre stilen p√•.&lt;/p&gt;
&lt;h2 id=&#34;eksempel-p√•-bruk-av-hammer-faktura&#34;&gt;Eksempel p√• bruk av Hammer Faktura&lt;/h2&gt;
&lt;p&gt;Hvorfor alt styret? La oss g√• tilbake og ta en titt p√• denne kunden som ville ha tre ulike fakturaer for over 500 sm√•oppdrag som jeg gjorde i l√∏pet av en m√•ned.&lt;/p&gt;
&lt;p&gt;I eksempelet nedenfor viser jeg hvor lett det n√• har blitt for meg √• generere 3 fakturaer med over 500 oppdrag som lastes direkte ned fra nettet:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;kontorer &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;NO&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;DK&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;SE&amp;#34;&lt;/span&gt;]

&lt;span style=&#34;color:#cdcd00&#34;&gt;for&lt;/span&gt; kontor &lt;span style=&#34;color:#cdcd00&#34;&gt;in&lt;/span&gt; kontorer:

	&lt;span style=&#34;color:#cdcd00&#34;&gt;if&lt;/span&gt; kontor &lt;span style=&#34;color:#39c&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;NO&amp;#34;&lt;/span&gt;:
		kunde &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hammer_faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;Kunde(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;NORSK KUNDE&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;1234567&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Oslo&amp;#34;&lt;/span&gt;)
	&lt;span style=&#34;color:#cdcd00&#34;&gt;elif&lt;/span&gt; kontor &lt;span style=&#34;color:#39c&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;DK&amp;#34;&lt;/span&gt;:
		kunde &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hammer_faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;Kunde(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;DANSK KUNDE&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;7654321&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;K√∏benhavn&amp;#34;&lt;/span&gt;)
	&lt;span style=&#34;color:#cdcd00&#34;&gt;else&lt;/span&gt;:
		kunde &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hammer_faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;Kunde(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;SVENSK KUNDE&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;17262534&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;Stockholm&amp;#34;&lt;/span&gt;)

	invoice &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; hammer_faktura&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;Faktura(kunde)

	&lt;span style=&#34;color:#000080&#34;&gt;# Fyller ut tabellen med data som hentes direkte fra XTRF&lt;/span&gt;
	populate_invoice_from_XTRF(invoice, oversikt, kontor)

	invoice&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;generate_table()
		
	faktura &lt;span style=&#34;color:#39c&#34;&gt;=&lt;/span&gt; invoice&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;generate_body()

	&lt;span style=&#34;color:#cdcd00&#34;&gt;with&lt;/span&gt; &lt;span style=&#34;color:#cd00cd&#34;&gt;open&lt;/span&gt;(os&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;path&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;join(&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;invoices&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#cd0000&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;faktura_&lt;/span&gt;&lt;span style=&#34;color:#cd0000&#34;&gt;{&lt;/span&gt;invoice&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt;invoice_number&lt;span style=&#34;color:#cd0000&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#cd0000&#34;&gt;_&lt;/span&gt;&lt;span style=&#34;color:#cd0000&#34;&gt;{&lt;/span&gt;kontor&lt;span style=&#34;color:#cd0000&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#cd0000&#34;&gt;.html&amp;#34;&lt;/span&gt;), &lt;span style=&#34;color:#cd0000&#34;&gt;&amp;#34;w&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#cdcd00&#34;&gt;as&lt;/span&gt; f:
		f&lt;span style=&#34;color:#39c&#34;&gt;.&lt;/span&gt; write(faktura)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Resultatet? 3 fine filer som dette:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;‚îÄ faktura_13137_DK.html
‚îÄ faktura_2912_SE.html
‚îÄ faktura_35457_NO.html
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Disse kan s√• gj√∏res om til Word med pandoc:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ for file in *; do pandoc -o ${file%.html}.docx $file; done;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Det √• skrive dette skriptet tar ikke s√• lang tid n√• som selve fakturaens oppbygning og stil allerede er p√• plass.&lt;/p&gt;
&lt;h2 id=&#34;veien-videre&#34;&gt;Veien videre&lt;/h2&gt;
&lt;p&gt;Jeg startet prosjetet p√• mandag og har kost meg veldig gjennom hele uken. Det har v√¶rt en spennende utfordring √• rydde opp i koden min og pr√∏ve √• gj√∏re oppbygningen s√• logisk som mulig. Pr√∏ve √• finne den perfekte balansen mellom &lt;em&gt;enhetlig&lt;/em&gt; og &lt;em&gt;fleksibel&lt;/em&gt; ‚Äì et program som skaper orden, men som likevel skal kunne utvides og endres p√• i fremtiden.&lt;/p&gt;
&lt;p&gt;Det er ikke s√• lett, fordi man m√• pr√∏ve √• gjette p√• hvilke funksjoner som kan v√¶re nyttige i fremtiden. Muligheten for √• endre spr√•ket i fakturaen? Kanskje b√∏r kundene lagres i en database og hentes derfra? Kanskje skal det v√¶re mulig √• oppdatere totalen etter at tabellen har blitt generert? Og s√• videre.&lt;/p&gt;
&lt;p&gt;Uansett er jeg forn√∏yd med ukens fremgang p√• prosjektet. N√• skal jeg lage fakturaene mine, og s√• f√•r jeg tenke over de neste utvidelsene en annen gang!&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;obs&#34;&gt;OBS!&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Oppdatering 4.3.2021&lt;/strong&gt;
Jeg har overhalet Hammer Faktura ganske betydelig. Alle endringene og forbedringene er beskrevet og forklart tydelig i det nye blogginnlegget, &lt;a href=&#34;https://www.olehammersland.com/blogg/fakturaer-del-to&#34;&gt;som kan leses her&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
